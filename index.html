<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roleta do Amor - Personalizado</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Estilos Gerais e Fundo Animado --- */
        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #ff7e5f, #feb47b);
            margin: 0;
            padding: 20px 0; /* Adiciona padding vertical para melhor espa√ßamento em mobile */
            color: #fff;
            text-align: center;
            overflow-x: hidden; /* Previne rolagem horizontal, mas permite a vertical */
            position: relative;
        }

        .hearts-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .heart {
            position: absolute;
            bottom: -50px;
            font-size: 2rem;
            animation: floatUp 10s infinite ease-in;
            color: rgba(255, 255, 255, 0.2);
        }

        .heart:nth-child(1) { left: 10%; animation-duration: 12s; }
        .heart:nth-child(2) { left: 20%; animation-duration: 8s; animation-delay: 2s; }
        .heart:nth-child(3) { left: 30%; animation-duration: 15s; }
        .heart:nth-child(4) { left: 45%; animation-duration: 9s; animation-delay: 4s; }
        .heart:nth-child(5) { left: 60%; animation-duration: 11s; }
        .heart:nth-child(6) { left: 75%; animation-duration: 7s; animation-delay: 3s; }
        .heart:nth-child(7) { left: 90%; animation-duration: 14s; }

        @keyframes floatUp {
            to {
                transform: translateY(-105vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* --- Cont√™ineres --- */
        .main-container {
            background-color: rgba(0, 0, 0, 0.35);
            padding: 30px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 90%;
            width: 600px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
            z-index: 1;
            transition: opacity 0.5s ease;
        }

        .hidden { display: none; }

        /* --- Tela de In√≠cio (Setup) --- */
        #setup-area h2 {
            font-size: 2.2rem;
            margin-bottom: 25px;
        }
        .name-inputs {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 350px;
            margin-bottom: 30px;
        }
        .name-inputs input {
            padding: 15px;
            border-radius: 25px;
            border: 2px solid #fff;
            background-color: rgba(255,255,255,0.2);
            color: #fff;
            font-size: 1.1rem;
            text-align: center;
            transition: all 0.3s ease;
        }
        .name-inputs input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        .name-inputs input:focus {
            outline: none;
            background-color: rgba(255,255,255,0.3);
            border-color: #ffde59;
        }

        /* --- Jogo Principal --- */
        h1#question-display {
            font-size: clamp(1.2rem, 5vw, 1.8rem); /* Fonte ajustada para mobile */
            font-weight: 600;
            margin-bottom: 20px; /* Margem reduzida */
            min-height: 70px; /* Altura m√≠nima reduzida */
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
            color: #fff;
        }

        .roulette-wrapper {
            position: relative;
            margin-bottom: 25px; /* Margem reduzida */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .roulette-pointer {
            width: 0;
            height: 0;
            border-left: 15px solid transparent; /* Reduzido */
            border-right: 15px solid transparent; /* Reduzido */
            border-top: 25px solid #ffde59; /* Reduzido */
            position: absolute;
            top: -15px; /* Ajustado */
            z-index: 10;
            filter: drop-shadow(0 -2px 2px rgba(0,0,0,0.3));
        }

        .roulette-container {
            width: 250px; /* Tamanho ajustado */
            height: 250px; /* Tamanho ajustado */
            border-radius: 50%;
            border: 8px solid #fff; /* Borda reduzida */
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3), inset 0 0 10px rgba(0, 0, 0, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .roulette-wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(#ff5e57, #ffc93c, #a7ff83, #8a4fff, #3c91e6, #f95959, #ff5e57);
            transition: transform 5s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        .center-button {
            position: absolute;
            width: 80px; /* Reduzido */
            height: 80px; /* Reduzido */
            background-color: #fff;
            border-radius: 50%;
            border: 4px solid #ff7e5f;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #ff7e5f;
            font-size: 1.3em;
            text-transform: uppercase;
            user-select: none;
            transition: transform 0.2s ease;
        }
        
        .center-button:hover { transform: scale(1.05); }
        .center-button:active { transform: scale(0.95); }
        .center-button.disabled {
            cursor: not-allowed;
            background-color: #ddd;
            color: #888;
            border-color: #ccc;
        }

        .options-container {
            display: flex;
            gap: 15px; /* Espa√ßo reduzido */
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .options-container button, .control-button {
            padding: 12px 25px; /* Padding reduzido */
            font-size: 1em; /* Fonte reduzida */
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .options-container button:active, .control-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        #pass-button { background-color: #ffc93c; color: #5d4037; }
        #pass-button:hover { background-color: #f7b733; }
        #match-button { background-color: #8edc81; color: #fff; }
        #match-button:hover { background-color: #7ac76c; }
        #start-game-button { background-color: #8edc81; color: #fff; }
        #start-game-button:hover { background-color: #7ac76c; }

        .question-counter { margin-top: 20px; font-size: 1em; color: #eee; }
        .question-counter span { font-weight: bold; color: #fff; }

        #end-game-button, #restart-game-button {
            background-color: #ff6b6b;
            color: #fff;
            margin-top: 25px;
        }
        #end-game-button:hover, #restart-game-button:hover { background-color: #ee5253; }

        .result-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        #result-message {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7);
        }
        #result-details { font-size: 1.2rem; margin-bottom: 30px; }

        /* --- MODAL DA PRENDA --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content {
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            color: #fff;
            max-width: 90%;
            width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-content h2 { font-size: 2rem; margin-top: 0; margin-bottom: 10px; color: #fdd835; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        #forfeit-payer { font-size: 1.3rem; font-weight: 600; margin-bottom: 15px; }
        #forfeit-text { font-size: 1.5rem; min-height: 50px; margin-bottom: 25px; }

        /* --- MANT√âM OS ESTILOS MAIORES PARA TELAS GRANDES --- */
        @media (min-width: 601px) {
            .main-container { padding: 30px 40px; }
            h1#question-display { font-size: clamp(1.8rem, 4vw, 2.2rem); margin-bottom: 30px; min-height: 80px; }
            .roulette-container { width: 280px; height: 280px; border-width: 10px; }
            .roulette-pointer { border-left-width: 20px; border-right-width: 20px; border-top-width: 30px; top: -20px; }
            .center-button { width: 90px; height: 90px; font-size: 1.5em; border-width: 5px; }
            .options-container button, .control-button { padding: 15px 30px; font-size: 1.1em; }
            .modal-content h2 { font-size: 2.5rem; }
            #forfeit-payer { font-size: 1.5rem; }
            #forfeit-text { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="hearts-container">
        <div class="heart">‚ù§Ô∏è</div><div class="heart">üíñ</div><div class="heart">üíï</div>
        <div class="heart">üíì</div><div class="heart">‚ù§Ô∏è</div><div class="heart">üíñ</div><div class="heart">üíï</div>
    </div>

    <div class="main-container">
        <!-- Tela de configura√ß√£o inicial -->
        <div id="setup-area">
            <h2>Quem vai jogar?</h2>
            <div class="name-inputs">
                <input type="text" id="player1-name" placeholder="Nome do Jogador 1">
                <input type="text" id="player2-name" placeholder="Nome do Jogador 2">
            </div>
            <button id="start-game-button" class="control-button">Come√ßar a Jogar</button>
        </div>

        <!-- √Årea principal do jogo -->
        <div id="game-area" class="hidden">
            <h1 id="question-display">Clique em GIRAR para come√ßar!</h1>
            <div class="roulette-wrapper">
                <div class="roulette-pointer"></div>
                <div class="roulette-container">
                    <div class="roulette-wheel" id="roulette-wheel"></div>
                    <div class="center-button" id="spin-button">Girar</div>
                </div>
            </div>
            <div class="options-container hidden" id="answer-buttons">
                <button id="pass-button">Passa</button>
                <button id="match-button">Deu Match</button>
            </div>
            <p class="question-counter hidden">Perguntas: <span id="answered-count">0</span> / <span id="total-questions">0</span></p>
            <button id="end-game-button" class="control-button">Encerrar Jogo</button>
        </div>

        <!-- √Årea de resultado final -->
        <div id="result-area" class="result-container hidden">
            <h2 id="result-message"></h2>
            <p id="result-details"></p>
            <button id="restart-game-button" class="control-button">Jogar Novamente</button>
        </div>
    </div>

    <!-- Modal da Prenda -->
    <div id="forfeit-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Hora da Prenda!</h2>
            <p id="forfeit-payer"></p>
            <p id="forfeit-text"></p>
            <button id="continue-button" class="control-button">Continuar</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const setupArea = document.getElementById('setup-area');
            const gameArea = document.getElementById('game-area');
            const resultArea = document.getElementById('result-area');
            const player1NameInput = document.getElementById('player1-name');
            const player2NameInput = document.getElementById('player2-name');
            const startGameButton = document.getElementById('start-game-button');
            
            const rouletteWheel = document.getElementById('roulette-wheel');
            const spinButton = document.getElementById('spin-button');
            const questionDisplay = document.getElementById('question-display');
            const answerButtons = document.getElementById('answer-buttons');
            const passButton = document.getElementById('pass-button');
            const matchButton = document.getElementById('match-button');
            const questionCounter = document.querySelector('.question-counter');
            const answeredCountSpan = document.getElementById('answered-count');
            const totalQuestionsSpan = document.getElementById('total-questions');
            const endGameButton = document.getElementById('end-game-button');
            const resultMessage = document.getElementById('result-message');
            const resultDetails = document.getElementById('result-details');
            const restartGameButton = document.getElementById('restart-game-button');
            
            const forfeitModal = document.getElementById('forfeit-modal');
            const forfeitPayer = document.getElementById('forfeit-payer');
            const forfeitText = document.getElementById('forfeit-text');
            const continueButton = document.getElementById('continue-button');

            const questions = [
                "Quem notou o outro primeiro?", "Quem tomou a iniciativa de conversar?", "Quem tomou a iniciativa do primeiro beijo?",
                "Quem se apaixonou primeiro?", "Quem pediu em namoro?", "Quem disse ‚Äúeu te amo‚Äù primeiro?", "Quem come√ßa as discuss√µes?",
                "Quem pede desculpas primeiro?", "Quem √© mais carinhoso?", "Quem √© mais grudento?", "Quem faz as melhores surpresas?",
                "Quem √© mais rom√¢ntico?", "Quem d√° os melhores presentes?", "Quem √© mais teimoso?", "Quem √© mais dorminhoco?", "Quem ronca?",
                "Quem demora mais para se arrumar?", "Quem √© mais mal-humorado de manh√£?", "Quem √© mais ‚Äúm√£o de vaca‚Äù?", "Quem √© mais ciumento?",
                "Quem √© mais bagunceiro?", "Quem dan√ßa melhor?", "Quem √© mais pregui√ßoso?", "Quem √© mais comil√£o?", "Quem √© mais brincalh√£o?",
                "Quem ri de bobeiras?", "Quem √© 'bom de copo'?", "Quem conta as melhores piadas?", "Quem n√£o dispensa uma boa fofoca?",
                "Quem tem mais manias esquisitas?", "Quem faz mais dramas?", "Quem era mais bagunceiro na escola?", "Quem cozinha melhor?",
                "Quem entende mais de m√∫sica?", "Quem se veste melhor?", "Quem se esquece de tudo?", "Quem tem mais mania de limpeza?",
                "Quem prefere ficar em casa a sair?", "Quem gosta mais de pedir fast food?", "Quem sonhava em se casar?",
                "Quem toma mais a iniciativa na hora H?", "Quem √© mais criativo na cama?", "Quem √© mais barulhento?",
                "Quem manda mensagens mais ousadas?", "Quem curte experimentar em lugares diferentes?"
            ];

            const forfeits = [
                "Remova uma pe√ßa de roupa.", "D√™ um beijo demorado no pesco√ßo.", "Fa√ßa uma massagem de 1 minuto nas costas.",
                "Conte um segredo que nunca contou antes.", "Fa√ßa uma declara√ß√£o de amor olhando nos olhos.", "Dance uma m√∫sica brega por 30 segundos.",
                "Deixe o outro postar uma foto engra√ßada sua nos stories.", "Fa√ßa 10 polichinelos falando 'eu te amo' a cada pulo.",
                "Imite o outro por 1 minuto.", "Cante o refr√£o da m√∫sica que vier √† cabe√ßa.", "Envie um √°udio para o(a) parceiro(a) se declarando.",
                "D√™ um selinho de 10 segundos.", "Fa√ßa um elogio para cada parte do corpo do(a) parceiro(a)."
            ];
            
            let playerNames = [];
            let availableQuestions = [];
            let answeredQuestionsCount = 0;
            let matchCount = 0;
            let isSpinning = false;
            let currentRotation = 0;

            function initializeGame() {
                const p1Name = player1NameInput.value.trim() || "Jogador 1";
                const p2Name = player2NameInput.value.trim() || "Jogador 2";
                playerNames = [p1Name, p2Name];
                
                setupArea.classList.add('hidden');
                resultArea.classList.add('hidden');
                gameArea.classList.remove('hidden');

                availableQuestions = [...questions];
                answeredQuestionsCount = 0;
                matchCount = 0;
                isSpinning = false;
                totalQuestionsSpan.textContent = questions.length;
                answeredCountSpan.textContent = 0;
                questionDisplay.textContent = "Clique em GIRAR para come√ßar!";
                answerButtons.classList.add('hidden');
                questionCounter.classList.add('hidden');
                spinButton.classList.remove('disabled');
                forfeitModal.classList.remove('visible');
            }

            function spinRoulette() {
                if (isSpinning) return;
                
                isSpinning = true;
                spinButton.classList.add('disabled');
                answerButtons.classList.add('hidden');
                questionDisplay.textContent = "Girando a roleta...";
                
                const randomExtraRotation = 360 * 5 + Math.floor(Math.random() * 360);
                currentRotation += randomExtraRotation;
                rouletteWheel.style.transform = `rotate(${currentRotation}deg)`;

                setTimeout(() => {
                    const question = getRandomQuestion();
                    if (question) {
                        questionDisplay.textContent = question;
                        answerButtons.classList.remove('hidden');
                        questionCounter.classList.remove('hidden');
                        isSpinning = false;
                    } else {
                        displayFinalResult();
                    }
                }, 5000);
            }

            function getRandomQuestion() {
                if (availableQuestions.length === 0) return null;
                const randomIndex = Math.floor(Math.random() * availableQuestions.length);
                const [question] = availableQuestions.splice(randomIndex, 1);
                return question;
            }

            function handleAnswer(isMatch) {
                if (isSpinning) return;

                answeredQuestionsCount++;
                answeredCountSpan.textContent = answeredQuestionsCount;

                if (isMatch) {
                    matchCount++;
                    proceedToNextRound();
                } else {
                    showForfeit();
                }
            }

            function showForfeit() {
                const whoPays = playerNames[Math.floor(Math.random() * playerNames.length)];
                const randomForfeit = forfeits[Math.floor(Math.random() * forfeits.length)];

                forfeitPayer.textContent = `${whoPays} vai pagar a prenda!`;
                forfeitText.textContent = `"${randomForfeit}"`;
                forfeitModal.classList.add('visible');
            }

            function proceedToNextRound() {
                forfeitModal.classList.remove('visible');
                if (availableQuestions.length > 0) {
                    spinRoulette();
                } else {
                    displayFinalResult();
                }
            }

            function displayFinalResult() {
                gameArea.classList.add('hidden');
                resultArea.classList.remove('hidden');
                const totalAnswered = answeredQuestionsCount > 0 ? answeredQuestionsCount : 1;
                const percentage = Math.round((matchCount / totalAnswered) * 100);
                
                let message = "";
                if (percentage >= 80) {
                    message = "Sintonia Perfeita! ‚ú®";
                } else if (percentage >= 50) {
                    message = "Voc√™s se conhecem bem! üòâ";
                } else {
                    message = "Que divertido! Continuem se conhecendo! üòä";
                }
                
                resultMessage.textContent = message;
                resultDetails.textContent = `Voc√™s tiveram ${matchCount} de ${answeredQuestionsCount} matches (${percentage}% de sintonia)!`;
            }

            startGameButton.addEventListener('click', initializeGame);
            spinButton.addEventListener('click', spinRoulette);
            passButton.addEventListener('click', () => handleAnswer(false));
            matchButton.addEventListener('click', () => handleAnswer(true));
            endGameButton.addEventListener('click', displayFinalResult);
            restartGameButton.addEventListener('click', () => {
                resultArea.classList.add('hidden');
                setupArea.classList.remove('hidden');
            });
            continueButton.addEventListener('click', proceedToNextRound);
        });
    </script>
</body>
</html>
